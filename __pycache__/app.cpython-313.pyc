from flask import Flask, render_template, request, jsonifyfrom transformers import pipelineimport logging# Настройка логированияlogging.basicConfig(level=logging.DEBUG)app = Flask(__name__)# Загрузка модели NLPchatbot_pipeline = pipeline("conversational", model="microsoft/DialoGPT-medium")@app.route('/')def home():    return render_template('index.html')@app.route('/chat', methods=['POST'])def chat():    user_message = request.json.get('message')    app.logger.debug(f'Received message: {user_message}') try:        # Генерация ответа с использованием модели response = chatbot_pipeline(user_message)        bot_reply = response[0]['generated_text']        app.logger.debug(f'Response: {bot_reply}')        return jsonify({'reply': bot_reply})    except Exception as e:        app.logger.error(f'Error generating response: {e}')        return jsonify({'reply': 'Произошла ошибка при генерации ответа.'}), 500if __name__ == '__main__':    app.run(debug=True)